VERSION 1.00

+ Первый релиз. Связь с компьютером не поддерживается. В измеритель загружен один
  пресет с параметрами по умолчанию.
+ Столбик работает как стандартный квазипиковый измеритель с временем интеграции
  5 мс, временем срабатывания 100 мс, временем удержания 20 мс, временем обратного
  хода 1700 мс.
+ Точка работает как пиковый (true peak) измеритель с временем интеграции 0 мс,
  временем срабатывания 100 мс, временем удержания 1000 мс, временем обратного
  хода 600 мс.
+ Регулировка яркости - только с помощью подстроечных резисторов.

VERSION 1.01

+ Реализована связь с компьютером.
+ Реализованы пресеты.
+ Регулировка яркости всеми возможными способами.

VERSION 2.00

+ Добавлена поддержка линеек 35 сегментов. Для этого в конструктор TSreg
  добавлен параметр количества сдвиговых регистров. Добавлен пресет шкалы на 35
  элементов. Для каждой длины линеек используется своя сигнатура EEPROM.
+ Включен буфер DAC, чтобы иметь возможность работать на подстроечные резисторы.
  
VERSION 2.02

+ Добавлена поддержка линеек 40 сегментов. В этой версии выключение подсветки
  производится пином процессора PC13, транспаранты отсутствуют. Также удалено
  управление транспарантами для версии 35 сегментов, сохранено лишь управление
  подсветкой.
+ Добавлен контроль ошибки EEPROM, которую может возвращать метод EESave().
  После записи делается чтение и сравнение.
  Эта ошибка передается через порт в PC при неудачной попытке сохранения.

VERSION 2.10

+ Добавлена конфигурация компиляции Meter50V4 для плат Rev. 4 с процессором
  STM32F103C8T6. Для таймингов I2C вместо TIM16 используется TIM4. В модуле
  bright.cpp отключена возможность программной регулировки яркости через DAC
  или TIM15 PWM, осталась только регулировка подстроечным резистором.

VERSION 2.20

+ Комментарии переведены на английский язык.
+ Процессоры STM32F100C8T6B с Aliexpress часто приходят как перемаркированные
  STM32F103C8T6B. В связи с этим создана отдельная конфигурации компиляции.
  Конфигурации компиляции теперь следующие: Meter35F100, Meter40F100,
  Meter50F100, Meter50F103. Для варианта с процессором F103 (Device ID: 0410)
  регулировка яркости возможна только подстроечными резисторами. С процессором
  F100 (Device ID: 0420) возможны все способы регулировки яркости.
+ Добавлена поддержка управления кнопками. Для ее включения надо определить
  символ USE_KEYBOARD. Поддерживаются 2 кнопки: MODE (подключается вместо
  джампера MODE1) и STAT (подключается вместо джампера MODE2). Кнопка MODE
  переключает пресеты по кольцу. Выбранный пресет запоминается в EEPROM.
  Нажатие кнопки STAT выводит статистику (максимальный сохраненный уровень),
  при этом зажигается транспарант ST (TR8). Вернуться к нормальным показаниям
  можно нажатием кнопки MODE. Если кнопку STAT удерживать, то произойдет сброс
  статистики. При переключении пресетов текущие показания сбрасываются, в том
  числе и статистика.
+ Добавлена поддержка мультиплексора сигналов управления транспарантами.
  Для его включения надо определить символ USE_LEDS_MUX. На входы мультиплексора
  через резисторы 10 кОм (которые расположены на плате измерителя) подаются
  логические сигналы с уровнем 5 В с органов управления магнитофоном.
  Неподключенный вход расценивается как логический 0. Если в момент включения
  питания на всех входах мультиплексора обнаружен логический 0, то считается,
  что мультиплексор не подключен и далее его опрос проводится не будет.
  Чтобы мултиплексор опрашивался, как минимум на одном входе в момент
  включения должна быть 1.
  Назначение входов мультиплексора:
  IN1 = 1 - MUTE (TR9)
  IN2 = 1 - SRCL (TR7), = 0 - TAPEL (TR8)
  IN3 = 1 - SRCR (TR7), = 0 - TAPER (TR8)
  IN4 = 0 - REC (TR6)
  IN5 = 1 - NR (TR5)
  IN6 = 0 - CYCLE (TR4)
  IN7 = 1 - AUTO REVERSE (TR3)
  IN8 = 0 - 9 (TR0), = 1 - 19 (TR1) 
? В режиме управления кнопками количество пресетов увеличить до 10?

+ Некоторые экземпляры процессоров с Aliexpress не определяются с помощью
  ST-Link. Надо выполнить следующее: Target->Settings->Connection Mode->
  Connect Under Reset. Замкнуть NRST на землю (замкнуть C24), нажать Connect,
  после чего быстро отпустить NRST. Связь будет установлена. Но содержимое
  памяти может не считаться. Надо снять защиту: Target->Option Bytes->
  Read Out Protection->Disabled и нажать Apply.

+ Некоторые регистры 74HC595 с Aliexpress не работают на тактовой частоте
  12 МГц, пришлось добавить #define SPI_DIV 1 //SPI clock divider (0 = APB2/2,
  1 = APB2/4 ... 7 = APB2/256) для снижения частоты. Обычно на 6 МГц работают.

VERSION 2.30

+ Процессоры STM32F100C8T6B с Aliexpress иногда имеют неправильную частоту
  внутреннего генератора HSI. Для контроля тактовой частоты добавлен
  #define CLOCK_MCO, частоту 24 МГц можно посмотреть на выводе 29 (PA8).
  Частота с HSI оказалась 20.422 МГц, с помощью HSI TRIM удалось поднять
  только до 21.807 МГц. Поэтому в таком случае нужен внешний кварц 8 МГц.
  Для выбора режима тактирования добавлены #define CLOCK_HSI и
  #define CLOCK_HSE. Увеличения уровня помех при тактировании от внешнего
  кварца особо не заметно.
+ Процессоры STM32F100C8T6B с Aliexpress имеют пониженное сопротивление
  подтяжки портов вниз. На входе, принимающем сигнал с мультиплексора,
  пришлось включить режим IN_FLOAT, иначе напряжение на выходе делителя
  10k/20k просаживалось ниже 1 В.
